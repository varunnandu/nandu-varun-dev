<div ng-include="'header/header.view.html'" ng-controller="HeaderController as modal"></div>

<div class="container-fluid">
    <div class="row">
        <h3 class="page-header h4-page-header">Movies You Reviewed</h3>
    </div>
    <div class ="row">
    <div ng-repeat="review in model.reviews">

    <div class="media">
        <div class="col-xs-3 hidden-xs">
        <a class="pull-left" href="">
            <img class="media-object media-object-movie thumbnail" ng-src={{review.movie.imageUrl}} alt="">
        </a>
        </div>
        <div class="col-sm-9 col-xs-12">
        <div class="media-body">
            <h4 class="media-heading">
                <a href="#/home/movie/{{review.movieId}}">
                    {{review.movie.title}}
                </a>
            </h4>
            <h4 class="media-heading">
                    {{review.title}}
            </h4>
            <small>
                        <span>
                            <ng-rating ng-model="review.rating"
                                       editable="false">
                            </ng-rating>
                        </span>
            </small>
            <h4 class="media-heading">
                <small>
                    On {{review.timestamp | date : 'mediumDate'}}
                </small>
            </h4>
            <p class="text-justify">
                {{review.description | limitTo:100}} {{review.description.length > 100 ? "..." : ""}}
            </p>

            <a href="#/user/{{review.userId}}/movie/{{review.movieId}}/review/{{review._id}}">
                <span class="glyphicon glyphicon-cog"></span>
            </a>
            <a ng-click="model.deleteReview(review.movieId, review._id)"
               class="pull-right">
                <span class="glyphicon glyphicon-remove-sign"></span>
            </a>
        </div>
    </div>

    </div>
    </div>
    </div>
</div>